<!DOCTYPE html>
<html lang="zxx">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Student Management |Home</title>
		<link rel="shortcut icon" href="img/favicon.png">
		<link rel="stylesheet" href="css/fontawesome.min.css">
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/animate.css">
		<link rel="stylesheet" href="css/bootstrap-dropdownhover.min.css">
		<link rel="stylesheet" href="css/aos.css">
		<link rel="stylesheet" href="css/style.css">
	</head>
	<body>
		
		<!-- header intro -->
		<div class="student-intro">
			<div class="navbar navbar-expand-md">
				<div class="container">
					<a href="index.html" class="navbar-brand">
						<h2>Student Management</h2>
					</a>
					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
						aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
						<i class="fas fa-align-justify"></i>
					</button>
					<div class="collapse navbar-collapse" id="navbarNav">
						<ul class="navbar-nav ml-auto">
							<li class="nav-item active">
								<a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="blogs.html">Blogs</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="post.html">Post</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="contact-us.html">Contact Us</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="about-us.html">About Us</a>
							</li>
	
						</ul>
					</div>
				</div>
			</div>
			<div class="container">
				<div class="row align-items-center">
					<div class="col-md-6 col-sm-12">
						<div class="entry" data-aos="slide-up">

							<div class="frame">
								<div class="button">
									<a href="ViewInfo.html" >View Info</a>
								</div>
								
								
								<div class="button">
									<a href="deletestudent.html" >Delete</a>
								</div>
					
								<div class="button-1">
									<a href="editstudent.html" >Edit Student</a>
								</div>
							</div>
						
	
								
						</div>
					</div>

					<div class="col-md-6 col-sm-12" style="height: 532px;">
						<div class="entry entry-img" data-aos="zoom-in">

							<div class="hero-right">
								<h1>
									VIEW STUDENT INFO
								</h1>
								
								<form>
									<fieldset>
									  <legend>Get all students</legend>
									  <button id="all" type="button">View all student</button>
									  <table>
										<thead>
										  <tr>
											<th>Student ID</th>
											<th>First name</th>
											<th>Last name</th>
											<th>Programme</th>
										  </tr>
										</thead>
										<tbody></tbody>
									  </table>
									</fieldset>
								
								  </form>
								
								  <form>
									<fieldset>
									  <legend>Getting one info</legend>
									  <input type="text" id="enter" />
									  <button id="one" type="button">View a student</button>
									  <table>
										<thead>
										  <tr>
											<th>Student ID</th>
											<th>First name</th>
											<th>Last name</th>
											<th>Programme</th>
										  </tr>
										</thead>
										<tbody></tbody>
									  </table>
									</fieldset>
								  </form>
								
								
								
								
								  <script type="text/javascript">
									var getAllUrl = 'http://localhost/STUDENTMANAGEMENT/api/read.php';
									var getOneUrl = 'http://localhost/STUDENTMANAGEMENT/api/read_single.php?Student_id='
								
									document.getElementById('all').addEventListener('click', getAll)
									document.getElementById('one').addEventListener('click', getOne)
								
									function getAll() {
									  fetch(getAllUrl).then(response => {
										return response.json();
									  }).then(data => {
										// arr =  Object.keys(data);
										arr = data.data;
										// console.log(arr)
										arr.forEach(element => {
										  tbody = document.getElementsByTagName("tbody")[0];
										  row = tbody.insertRow(0);
										  cell0 = row.insertCell(0);
										  cell1 = row.insertCell(1);
										  cell2 = row.insertCell(2);
										  cell3 = row.insertCell(3);
										  cell0.innerHTML = element.Student_id;
										  cell1.innerHTML = element.First_name;
										  cell2.innerHTML = element.Last_name;
										  cell3.innerHTML = element.Programme;
								
										});
									  }).catch(err => {
										// Do something for an error here
									  });
									  document.getElementById('all').setAttribute("disabled", "disabled")
									}
								
									function getOne() {
									  var value = document.getElementById("enter").value
									  getOneUrl += value
									  fetch(getOneUrl).then(response => {
										return response.json();
									  }).then(data => {
										// arr =  Object.keys(data);
										tbody = document.getElementsByTagName("tbody")[1];
										row = tbody.insertRow(0);
										cell0 = row.insertCell(0);
										cell1 = row.insertCell(1);
										cell2 = row.insertCell(2);
										cell3 = row.insertCell(3);
										cell0.innerHTML = data.Student_id;
										cell1.innerHTML = data.First_name;
										cell2.innerHTML = data.Last_name;
										cell3.innerHTML = data.Programme;
								
									  }).catch(err => {
										// Do something for an error here
									  });
									  document.getElementById('one').setAttribute("disabled", "disabled")
								
									}
								
								  </script>
								
							</div>
							

						</div>
					</div>
					
				</div>
			</div>
		</div>
		<!-- end header intro -->

		
		
		<!-- footer -->
		<footer>
			<div class="container">
				<h6> Computer Engineering Team | Copyright 2021 Â© All Right Reserved</h6>
			</div>
		</footer>
		<!-- end footer -->

		<!-- script -->
		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/fontawesome.js"></script>
		<script src="js/bootstrap-dropdownhover.min.js"></script>
		<script src="js/aos.js"></script>
		<script src="js/custom.js"></script>
	</body>
</html>